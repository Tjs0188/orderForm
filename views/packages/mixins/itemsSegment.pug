include ../../mixins/table
include ../../mixins/inputs
include itemForm

mixin itemsSegment()
  div(class="container mx-auto" id="items-segment" role="tabpanel" aria-labelledby="items-tab")
    h1.text-2xl.font-bold.pb-4 Item Form
    h4.font-bold.pb-4 Add an Item
    div(class="flex gap-8 justify-between")
      +itemForm()
      div(class="w-full  h-4")
        h4.font-bold.pb-4 Items
        span.text-xs.pb-8 Edit an item using the fields below
        .py-2
          div(id="edit-item-error-message" class="hidden text-rose-500")
          div(id="edit-item-success-message" class="hidden text-green-500")
        +table({columns: [
            {name: 'id', selector: "id"},
            {name: "Category", selector: "category"},
            {name: "Product Number", selector: "product_number", editable: true, inputSize: "xs"}, 
            {name: 'Description', selector: "description", editable: true, inputSize: "xs"}
          ],
          actions: [
            {name: "Delete", link: "/packages/items", class: "text-rose-500", method: "DELETE", dataSelector: "id"}
          ],  
        rows: items, id: "items-table" })